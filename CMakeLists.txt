CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(ipdvr)

SET(SOURCES
    fetchjob_curl.cpp
    listingfetch.cpp
    main.cpp
    )

ADD_EXECUTABLE(ipdvr ${SOURCES})
TARGET_COMPILE_FEATURES(ipdvr PRIVATE cxx_auto_type)
TARGET_COMPILE_DEFINITIONS(ipdvr PRIVATE -DDEBUG)

# CURL

FIND_PACKAGE(CURL)
IF(CURL_FOUND)
    INCLUDE_DIRECTORIES(${CURL_INCLUDE_DIRS})
    TARGET_LINK_LIBRARIES(ipdvr ${CURL_LIBRARIES})
ELSE()
    MESSAGE(FATAL_ERROR "Could not find libcurl.")
ENDIF()
